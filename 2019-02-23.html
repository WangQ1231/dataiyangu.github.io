<!-- build time:Sun Mar 31 2019 15:13:58 GMT+0800 (China Standard Time) --><!DOCTYPE html><script src="/js/src/pjax/jquery_min_js.js"></script><script src="/js/src/pjax/jquery_pjax_min_js.js"></script><script src="/js/src/pjax/pjaxMain.js"></script><html class="theme-next muse use-motion" lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" content="#222"><script src="/lib/pace/pace.min.js?v=1.0.2"></script><link href="/lib/pace/pace-theme-flash.min.css?v=1.0.2" rel="stylesheet"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css"><link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.ico?v=5.1.4"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico?v=5.1.4"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico?v=5.1.4"><link rel="mask-icon" href="/images/favicon.ico?v=5.1.4" color="#222"><link rel="manifest" href="/images/favicon.ico"><meta name="msapplication-config" content="/images/favicon.ico"><meta name="keywords" content="JVM,"><link rel="alternate" href="/atom.xml" title="Leesin's Blog" type="application/atom+xml"><meta name="description" content="JVM的概念JVM是Java Virtual Machine的简称。意为Java虚拟机虚拟机指通过软件模拟的具有完整硬件系统功能的、运行在一个完全隔离环境中的完整计算机系统有哪些虚拟机VMWareVisual BoxJVMVMWare或者Visual Box都是使用软件模拟物理CPU的指令集比如它们模拟的cpu、硬盘、内存，等都是现实存在的，能够在现实中找到对应的案例的。JVM使用软件模拟Java"><meta name="keywords" content="JVM"><meta property="og:type" content="article"><meta property="og:title" content="JVM内核-原理、诊断与优化学习笔记（一）：初识JVM"><meta property="og:url" content="http://mmmmmm.me/2019-02-23.html"><meta property="og:site_name" content="Leesin&#39;s Blog"><meta property="og:description" content="JVM的概念JVM是Java Virtual Machine的简称。意为Java虚拟机虚拟机指通过软件模拟的具有完整硬件系统功能的、运行在一个完全隔离环境中的完整计算机系统有哪些虚拟机VMWareVisual BoxJVMVMWare或者Visual Box都是使用软件模拟物理CPU的指令集比如它们模拟的cpu、硬盘、内存，等都是现实存在的，能够在现实中找到对应的案例的。JVM使用软件模拟Java"><meta property="og:locale" content="zh-Hans"><meta property="og:updated_time" content="2019-02-23T12:28:46.769Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="JVM内核-原理、诊断与优化学习笔记（一）：初识JVM"><meta name="twitter:description" content="JVM的概念JVM是Java Virtual Machine的简称。意为Java虚拟机虚拟机指通过软件模拟的具有完整硬件系统功能的、运行在一个完全隔离环境中的完整计算机系统有哪些虚拟机VMWareVisual BoxJVMVMWare或者Visual Box都是使用软件模拟物理CPU的指令集比如它们模拟的cpu、硬盘、内存，等都是现实存在的，能够在现实中找到对应的案例的。JVM使用软件模拟Java"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Muse",version:"5.1.4",sidebar:{position:"left",display:"hide",offset:12,b2t:!1,scrollpercent:!1,onmobile:!0},fancybox:!0,tabs:!0,motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},duoshuo:{userId:"0",author:"博主"},algolia:{applicationID:"P88H67GUII",apiKey:"5489ac7ce78f59f4a8cb5445035f54d8",indexName:"dataiyangu",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><link rel="canonical" href="http://mmmmmm.me/2019-02-23.html"><title>JVM内核-原理、诊断与优化学习笔记（一）：初识JVM | Leesin's Blog</title></head><body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans"><link rel="stylesheet" href="/dist/APlayer.min.css"><div class="hover_sidebar"></div><header id="header_left" class="header_left" itemscope="" itemtype="http://schema.org/WPHeader"><div class="header_left_inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="logo-line-after"><i></i></span></a></div></div><div class="site-nav-toggle"><button><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu_left" class="menu_left"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i><br>关于</a></li><li class="menu-item menu-item-top"><a href="/top/" rel="section"><i class="menu-item-icon fa fa-fw fa-signal"></i><br>热度</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br>分类</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br>标签</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>归档</a></li><li class="menu-item menu-item-message"><a href="/message/" rel="section"><i class="menu-item-icon fa fa-fw fa-heart"></i><br>留言</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br>搜索</a></li></ul><div class="site-search"><div class="algolia-popup popup search-popup"><div class="algolia-search"><div class="algolia-search-input-icon"><i class="fa fa-search"></i></div><div class="algolia-search-input" id="algolia-search-input"></div></div><div class="algolia-results"><div id="algolia-stats"></div><div id="algolia-hits"></div><div id="algolia-pagination" class="algolia-pagination"></div></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div></div></nav></div><div class="header_sidebar">黑匣子</div></header><div class="eye"><div class="eye1"><ul><li style="background-color:#C7EDCC">豆沙绿</li><li style="background-color:#FAF9DE">杏仁黄</li><li style="background-color:#FFF">银河白</li><li style="background-color:#323232">极光黑</li><li style="background-color:#FFF2E2">秋叶褐</li><li style="background-color:#FDE6E0">胭脂红</li><li style="background-color:#E3EDCD">青草绿</li><li style="background-color:#DCE2F1">海天蓝</li><li style="background-color:#E9EBFE">葛巾紫</li><li style="background-color:#EAEAEF">极光灰</li><li style="background-color:#cce8cf">qq管家</li></ul></div><div class="eye2">满天星</div></div><div id="aplayer"></div><script type="text/javascript" src="/dist/APlayer.min.js"></script><div class="container sidebar-position-left page-post-detail"><div class="headband"></div><a href="https://github.com/dataiyangu?tab=repositories"><img style="position:absolute;top:0;left:0;border:0" alt="Fork me on GitHub" data-original="/images/github_fork.png"></a><div class="bg_content"><canvas id="canvas"></canvas></div><header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">Leesin's Blog</span> <span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle">To be a better me</p></div><div class="site-nav-toggle"><button><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i><br>关于</a></li><li class="menu-item menu-item-top"><a href="/top/" rel="section"><i class="menu-item-icon fa fa-fw fa-signal"></i><br>热度</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br>分类</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br>标签</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>归档</a></li><li class="menu-item menu-item-message"><a href="/message/" rel="section"><i class="menu-item-icon fa fa-fw fa-heart"></i><br>留言</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br>搜索</a></li></ul><div class="site-search"><div class="algolia-popup popup search-popup"><div class="algolia-search"><div class="algolia-search-input-icon"><i class="fa fa-search"></i></div><div class="algolia-search-input" id="algolia-search-input"></div></div><div class="algolia-results"><div id="algolia-stats"></div><div id="algolia-hits"></div><div id="algolia-pagination" class="algolia-pagination"></div></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div></div></nav></div></header><div id="pjax-container"><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article data-scroll-reveal="enter bottom move 60px over 0.6s after 0.05s" class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://mmmmmm.me/2019-02-23.html"><span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="name" content="Leesin.Dong"><meta itemprop="description" content=""><meta itemprop="image" content="/images/header.jpg"></span><span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization"><meta itemprop="name" content="Leesin's Blog"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">JVM内核-原理、诊断与优化学习笔记（一）：初识JVM</h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-02-23T19:20:02+08:00">2019-02-23 </time></span><span class="post-category"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/学习笔记/" itemprop="url" rel="index"><span itemprop="name">学习笔记</span> </a></span>， <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/学习笔记/JVM内核-原理、诊断与优化学习笔记/" itemprop="url" rel="index"><span itemprop="name">JVM内核-原理、诊断与优化学习笔记</span> </a></span></span><span id="/2019-02-23.html" class="leancloud_visitors" data-flag-title="JVM内核-原理、诊断与优化学习笔记（一）：初识JVM"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="post-meta-item-text">阅读次数&#58;</span> <span class="leancloud-visitors-count"></span> </span><span class="post-meta-divider">|</span> <span class="page-pv"><i class="fa fa-file-o"></i>Read the number <span class="busuanzi-value" id="busuanzi_value_page_pv"></span>times</span><div class="post-wordcount"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i> </span><span class="post-meta-item-text">字数统计&#58;</span> <span title="字数统计">2.3k字 </span><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-clock-o"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span title="阅读时长">9分钟</span></div></div></header><div class="post-body" itemprop="articleBody"><h1 id="JVM的概念"><a href="#JVM的概念" class="headerlink" title="JVM的概念"></a>JVM的概念</h1><h2 id="JVM是Java-Virtual-Machine的简称。意为Java虚拟机"><a href="#JVM是Java-Virtual-Machine的简称。意为Java虚拟机" class="headerlink" title="JVM是Java Virtual Machine的简称。意为Java虚拟机"></a>JVM是Java Virtual Machine的简称。意为Java虚拟机</h2><h2 id="虚拟机"><a href="#虚拟机" class="headerlink" title="虚拟机"></a>虚拟机</h2><p>指通过软件模拟的具有完整硬件系统功能的、运行在一个完全隔离环境中的完整计算机系统</p><h2 id="有哪些虚拟机"><a href="#有哪些虚拟机" class="headerlink" title="有哪些虚拟机"></a>有哪些虚拟机</h2><ul><li>VMWare</li><li>Visual Box</li><li>JVM</li></ul><h2 id="VMWare或者Visual-Box都是使用软件模拟物理CPU的指令集"><a href="#VMWare或者Visual-Box都是使用软件模拟物理CPU的指令集" class="headerlink" title="VMWare或者Visual Box都是使用软件模拟物理CPU的指令集"></a>VMWare或者Visual Box都是使用软件模拟物理CPU的指令集</h2><p>比如它们模拟的cpu、硬盘、内存，等都是现实存在的，能够在现实中找到对应的案例的。</p><h2 id="JVM使用软件模拟Java-字节码的指令集"><a href="#JVM使用软件模拟Java-字节码的指令集" class="headerlink" title="JVM使用软件模拟Java 字节码的指令集"></a>JVM使用软件模拟Java 字节码的指令集</h2><p>JVM模拟的对象是现实中没有的，现实中没有任何一个计算机能够运行Java字节码，单纯从从软件上做的一个设计，来模拟一个硬件的行为，比如jvm运行的的是java字节码指令集，为了设计上的精简，我们知道正常的cpu中有若干个寄存器，jvm中除了pc寄存器外，其他的寄存器都做了裁剪，因为寄存器的主要功能是加快数据访问的速度，因为在jvm中是纯粹用软件模拟的，速度使用寄存器后并不会有很好的提升，并且引入寄存器后，也为jvm的设计以及实现带来很大的困难，所以把这些功能去掉了。综上，jvm是一个被定制过的现实中不存在的计算机。</p><h1 id="JVM发展历史"><a href="#JVM发展历史" class="headerlink" title="JVM发展历史"></a>JVM发展历史</h1><h2 id="1996年-SUN-JDK-1-0-Classic-VM"><a href="#1996年-SUN-JDK-1-0-Classic-VM" class="headerlink" title="1996年 SUN JDK 1.0 Classic VM"></a>1996年 SUN JDK 1.0 Classic VM</h2><p>纯解释运行，使用外挂进行JIT，没有内置的即时编译的模块，一旦开启外挂，解释运行的功能就没有了。<br>Classic VM生命周期比较长，在1.3 、1.4的时候才被淘汰</p><h2 id="1997年-JDK1-1-发布"><a href="#1997年-JDK1-1-发布" class="headerlink" title="1997年 JDK1.1 发布"></a>1997年 JDK1.1 发布</h2><p>-AWT、内部类、JDBC、RMI、反射</p><h2 id="1998年-JDK1-2-Solaris-Exact-VM"><a href="#1998年-JDK1-2-Solaris-Exact-VM" class="headerlink" title="1998年 JDK1.2 Solaris Exact VM"></a>1998年 JDK1.2 Solaris Exact VM</h2><p>JIT 解释器混合<br>Accurate Memory Management 精确内存管理，数据类型敏感<br>提升的GC性能<br>JDK1.2开始 称为Java 2<br>J2SE J2EE J2ME 的出现<br>加入Swing Collections</p><p>Solaris Exact VM生命周期比较短。</p><h2 id="2000年-JDK-1-3-Hotspot-作为默认虚拟机发布"><a href="#2000年-JDK-1-3-Hotspot-作为默认虚拟机发布" class="headerlink" title="2000年 JDK 1.3 Hotspot 作为默认虚拟机发布"></a>2000年 JDK 1.3 Hotspot 作为默认虚拟机发布</h2><p>加入JavaSound加入了一些声音上的api</p><h2 id="2002年-JDK-1-4-Classic-VM退出历史舞台"><a href="#2002年-JDK-1-4-Classic-VM退出历史舞台" class="headerlink" title="2002年 JDK 1.4 Classic VM退出历史舞台"></a>2002年 JDK 1.4 Classic VM退出历史舞台</h2><p>Assert 正则表达式 NIO IPV6 日志API 加密类库</p><h2 id="2004年发布-JDK1-5-即-JDK5-、J2SE-5-、Java-5（重要版本）"><a href="#2004年发布-JDK1-5-即-JDK5-、J2SE-5-、Java-5（重要版本）" class="headerlink" title="2004年发布 JDK1.5 即 JDK5 、J2SE 5 、Java 5（重要版本）"></a>2004年发布 JDK1.5 即 JDK5 、J2SE 5 、Java 5（重要版本）</h2><p>泛型<br>注解<br>装箱<br>枚举<br>可变长的参数<br>Foreach循环</p><h2 id="JDK1-6-JDK6"><a href="#JDK1-6-JDK6" class="headerlink" title="JDK1.6 JDK6"></a>JDK1.6 JDK6</h2><p>脚本语言支持<br>JDBC 4.0<br>Java编译器 API（开放了这个API）</p><h2 id="2011年-JDK7发布"><a href="#2011年-JDK7发布" class="headerlink" title="2011年 JDK7发布"></a>2011年 JDK7发布</h2><p>延误项目推出到JDK8<br>G1（全新的gc收集器）<br>动态语言增强（动态语言的火热）<br>64位系统中的压缩指针<br>NIO 2.0</p><h2 id="2014年-JDK8发布（重要版本）"><a href="#2014年-JDK8发布（重要版本）" class="headerlink" title="2014年 JDK8发布（重要版本）"></a>2014年 JDK8发布（重要版本）</h2><p>Lambda表达式（模拟了函数式编程）<br>语法增强 Java类型注解</p><h2 id="2016年JDK9"><a href="#2016年JDK9" class="headerlink" title="2016年JDK9"></a>2016年JDK9</h2><p>模块化</p><h2 id="大事件"><a href="#大事件" class="headerlink" title="大事件"></a>大事件</h2><h3 id="使用最为广泛的JVM为HotSpot"><a href="#使用最为广泛的JVM为HotSpot" class="headerlink" title="使用最为广泛的JVM为HotSpot"></a>使用最为广泛的JVM为HotSpot</h3><h3 id="HotSpot-为Longview-Technologies开发-被SUN收购"><a href="#HotSpot-为Longview-Technologies开发-被SUN收购" class="headerlink" title="HotSpot 为Longview Technologies开发 被SUN收购"></a>HotSpot 为Longview Technologies开发 被SUN收购</h3><h3 id="2006年-Java开源-并建立OpenJDK"><a href="#2006年-Java开源-并建立OpenJDK" class="headerlink" title="2006年 Java开源 并建立OpenJDK"></a>2006年 Java开源 并建立OpenJDK</h3><p>HotSpot 成为Sun JDK和OpenJDK中所带的虚拟机</p><h3 id="2008-年-Oracle收购BEA"><a href="#2008-年-Oracle收购BEA" class="headerlink" title="2008 年 Oracle收购BEA"></a>2008 年 Oracle收购BEA</h3><p>得到JRockit VM</p><h3 id="2010年Oracle-收购-Sun"><a href="#2010年Oracle-收购-Sun" class="headerlink" title="2010年Oracle 收购 Sun"></a>2010年Oracle 收购 Sun</h3><p>得到Hotspot</p><h3 id="Oracle宣布在JDK8时整合JRockit和Hotspot，优势互补"><a href="#Oracle宣布在JDK8时整合JRockit和Hotspot，优势互补" class="headerlink" title="Oracle宣布在JDK8时整合JRockit和Hotspot，优势互补"></a>Oracle宣布在JDK8时整合JRockit和Hotspot，优势互补</h3><p>在Hotspot基础上，移植JRockit优秀特性<br>推测：JRockit在不久的将来会退出历史舞台，但是HotSpot会深受JRockit的影响。</p><h1 id="JVM种类"><a href="#JVM种类" class="headerlink" title="JVM种类"></a>JVM种类</h1><h2 id="KVM"><a href="#KVM" class="headerlink" title="KVM"></a>KVM</h2><p>SUN发布<br>IOS Android前，广泛用于手机系统</p><h2 id="CDC-CLDC-HotSpot"><a href="#CDC-CLDC-HotSpot" class="headerlink" title="CDC/CLDC HotSpot"></a>CDC/CLDC HotSpot</h2><p>手机、电子书、PDA等设备上建立统一的Java编程接口<br>J2ME的重要组成部分</p><h2 id="JRockit"><a href="#JRockit" class="headerlink" title="JRockit"></a>JRockit</h2><h2 id="IBM-J9-VM"><a href="#IBM-J9-VM" class="headerlink" title="IBM J9 VM"></a>IBM J9 VM</h2><p>IBM内部</p><h2 id="Apache-Harmony"><a href="#Apache-Harmony" class="headerlink" title="Apache Harmony"></a>Apache Harmony</h2><p>兼容于JDK 1.5和JDK 1.6的Java程序运行平台<br>与Oracle关系恶劣 退出JCP ，Java社区的分裂<br>OpenJDK出现后，受到挑战 2011年 退役<br>没有大规模商用经历<br>对Android的发展有积极作用<br>BEA</p><h1 id="Java语言规范"><a href="#Java语言规范" class="headerlink" title="Java语言规范"></a>Java语言规范</h1><h2 id="语法定义"><a href="#语法定义" class="headerlink" title="语法定义"></a>语法定义</h2><h3 id="IfThenStatement"><a href="#IfThenStatement" class="headerlink" title="IfThenStatement:"></a>IfThenStatement:</h3><p>if ( Expression ) Statement</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="literal">true</span>)&#123;<span class="keyword">do</span> sth;&#125;</span><br></pre></td></tr></table></figure><h3 id="ArgumentList"><a href="#ArgumentList" class="headerlink" title="ArgumentList:"></a>ArgumentList:</h3><p>Argument<br>ArgumentList , Argument</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">add(a,b,c,d);</span><br></pre></td></tr></table></figure><h2 id="词法结构"><a href="#词法结构" class="headerlink" title="词法结构"></a>词法结构</h2><p>\u + 4个16进制数字 表示UTF-16<br>行终结符： CR, or LF, or CR LF.<br>空白符<br>空格 tab \t 换页 \f 行终结符<br>注释<br>标识符<br>关键字</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//标识符：标识符字符串不能使关键字或者布尔值或者null</span></span><br><span class="line">Identifier:    IdentifierChars but not a Keyword or BooleanLiteral or NullLiteral</span><br><span class="line"><span class="comment">//标识符串：java字符</span></span><br><span class="line">IdentifierChars:    JavaLetter    IdentifierChars JavaLetterOrDigit</span><br><span class="line"><span class="comment">//java字符：任何一个unicode</span></span><br><span class="line">JavaLetter:    any Unicode character that is a Java letter (see below)</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">JavaLetterOrDigit:    any Unicode character that is a Java letter-or-digit (see below)</span><br></pre></td></tr></table></figure><h3 id="小例子"><a href="#小例子" class="headerlink" title="小例子"></a>小例子</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">public <span class="keyword">static</span> <span class="keyword">void</span> 打印()&#123;</span><br><span class="line">	System.out.println(<span class="string">"中文方法哦"</span>);</span><br><span class="line">&#125;</span><br><span class="line">public  <span class="keyword">static</span> <span class="keyword">void</span> main(<span class="built_in">String</span>[] args) &#123;</span><br><span class="line">	打印();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>有意思的是，代码中有中文</p><h3 id="数字相关"><a href="#数字相关" class="headerlink" title="数字相关"></a>数字相关</h3><p>在jdk1.7中一个比较大的改变是允许有下划线，好处是当数字比较大的时候看的比较清楚一些。</p><ul><li>Int<br>0 2 0372 0xDada_Cafe 1996 0x00_FF__00_FF</li><li>Long<br>0l 0777L 0x100000000L 2_147_483_648L 0xC0B0L</li><li>Float<br>1e1f 2.f .3f 0f 3.14f 6.022137e+23f</li><li>Double<br>1e1 2. .3 0.0 3.14 1e-9d 1e137</li><li>操作<br>+= -= *= /= &amp;= |= ^= %= &lt;&lt;= &gt;&gt;= &gt;&gt;&gt;=<h3 id="哪些是合法的数字呢？"><a href="#哪些是合法的数字呢？" class="headerlink" title="哪些是合法的数字呢？"></a>哪些是合法的数字呢？</h3>private int a=0xDada_Cafe;<br>private float b=0x1.fffffeP+127f;<br>private float c=1996;<br>private float d=1996.3;<br>private int f=9999e2;<br>private double g=33e2;<br>private float h=0x1.fffep-12f;<br>private float i=1.fffep-12f;<br>private long p=0b1_1_1_0_1;<br>private long q=0b1_1_1_0_2;</li></ul><h2 id="类型和变量"><a href="#类型和变量" class="headerlink" title="类型和变量"></a>类型和变量</h2><ul><li>元类型<br>byte short int long float char</li><li>变量初始值<br>boolean false<br>char \u0000</li><li>泛型</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Value</span> </span>&#123; int val; &#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    public <span class="keyword">static</span> <span class="keyword">void</span> main(<span class="built_in">String</span>[] args) &#123;</span><br><span class="line">        int i1 = <span class="number">3</span>;</span><br><span class="line">        int i2 = i1;</span><br><span class="line">        i2 = <span class="number">4</span>;</span><br><span class="line">        System.out.print(<span class="string">"i1=="</span> + i1);</span><br><span class="line">        System.out.println(<span class="string">" but i2=="</span> + i2);</span><br><span class="line">        Value v1 = <span class="keyword">new</span> Value();</span><br><span class="line">        v1.val = <span class="number">5</span>;</span><br><span class="line">        Value v2 = v1;</span><br><span class="line">        v2.val = <span class="number">6</span>;</span><br><span class="line">        System.out.print(<span class="string">"v1.val=="</span> + v1.val);</span><br><span class="line">        System.out.println(<span class="string">" and v2.val=="</span> + v2.val);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>i1==3 but i2==4<br>v1.val==6 and v2.val==6<br>i1 i2为不同的变量<br>v1 v2为引用同一个实例</p><h2 id="略"><a href="#略" class="headerlink" title="略"></a>略</h2><p>Java内存模型<br>类加载链接的过程<br>public static final abstract的定义<br>异常<br>数组的使用<br>…….</p><h1 id="JVM规范"><a href="#JVM规范" class="headerlink" title="JVM规范"></a>JVM规范</h1><p>Java语言规范定义了什么是Java语言<br>Java语言和JVM相对独立<br>符合JVM规范的就能够在JVM上运行，比如：</p><ul><li>Groovy</li><li>Clojure</li><li><p>Scala<br>JVM主要定义二进制class文件和JVM指令集等</p></li><li><p>Class 文件格式</p></li><li>数字的内部表示和存储<br>Byte -128 to 127 (-27 to 27 - 1)</li><li>returnAddress 数据类型定义<br>指向操作码的指针。不对应Java数据类型，不能在运行时修改。Finally实现需要</li><li>定义PC</li><li>堆</li><li>栈</li><li>方法区</li></ul><h2 id="整数的表达"><a href="#整数的表达" class="headerlink" title="整数的表达"></a>整数的表达</h2><ul><li>原码：第一位为符号位（0为正数，1为负数）</li><li>反码：符号位不动，原码取反</li><li>负数补码：符号位不动，反码加1</li><li>正数补码：和原码相同<ul><li>打印整数的二进制表示</li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">int a=<span class="number">-6</span>;</span><br><span class="line"><span class="comment">//因为整数有32位，所以进行32次循环。</span></span><br><span class="line"><span class="keyword">for</span>(int i=<span class="number">0</span>;i&lt;<span class="number">32</span>;i++)&#123;</span><br><span class="line"><span class="comment">//0x80000000表示最高位为1的数字，所以a &amp; 0x80000000只有一位是1，</span></span><br><span class="line"><span class="comment">//第一次i=0，就是把a的第一位取出来，无符号右移(31-i)位。</span></span><br><span class="line"><span class="comment">//依次循环，将每一位打印出来</span></span><br><span class="line">	int t=(a &amp; <span class="number">0x80000000</span>&gt;&gt;&gt;i)&gt;&gt;&gt;(<span class="number">31</span>-i);</span><br><span class="line">	System.out.print(t);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">5</span></span><br><span class="line"><span class="number">00000101</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">-6</span></span><br><span class="line">原码： <span class="number">10000110</span></span><br><span class="line">反码： <span class="number">11111001</span></span><br><span class="line">补码： <span class="number">11111010</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">-1</span></span><br><span class="line">原码： <span class="number">10000001</span></span><br><span class="line">反码： <span class="number">11111110</span></span><br><span class="line">补码： <span class="number">11111111</span></span><br></pre></td></tr></table></figure><h3 id="为什么要用补码？"><a href="#为什么要用补码？" class="headerlink" title="为什么要用补码？"></a>为什么要用补码？</h3><p>0是一个比较特殊的数字，既不属于正数，也不属于负数<br>计算0的表示：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span></span><br><span class="line">正数：<span class="number">00000000</span></span><br><span class="line">负数：<span class="number">10000000</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span></span><br><span class="line">正数：<span class="number">00000000</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span></span><br><span class="line">负数：<span class="number">10000000</span></span><br><span class="line">反码：<span class="number">11111111</span></span><br><span class="line">补码：<span class="number">00000000</span></span><br></pre></td></tr></table></figure><p>看到这里补码的好处是为了没有歧义的表示零</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">-6</span>+<span class="number">5</span></span><br><span class="line">    <span class="number">11111010</span></span><br><span class="line">+ <span class="number">00000101</span></span><br><span class="line">= <span class="number">11111111</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">-4</span>+<span class="number">5</span></span><br><span class="line">    <span class="number">11111100</span></span><br><span class="line">+ <span class="number">00000101</span></span><br><span class="line">= <span class="number">00000001</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">-3</span>+<span class="number">5</span></span><br><span class="line">    <span class="number">11111101</span></span><br><span class="line">+ <span class="number">00000101</span></span><br><span class="line">= <span class="number">00000010</span></span><br></pre></td></tr></table></figure><p>看到这里，补码还有一个好处就是方便的计算两个数字之和（两个补码之和，符号位直接参与运算，得到的记过就是正确的结果。如果是源码做计算，符号位参与运算得不到正确的结果。），当然减法是一个特殊的加法。</p><h2 id="Float的表示与定义"><a href="#Float的表示与定义" class="headerlink" title="Float的表示与定义"></a>Float的表示与定义</h2><p>支持 IEEE 754<br>s eeeeeeee mmmmmmmmmmmmmmmmmmmmmmm<br>s符号位 eeeeeeee 指数：8 mmmmmmmmmmmmmmmmmmmmmmm 尾数：23</p><p>e全0 尾数附加位为0 否则尾数附加位为1，所以这里的尾数看似是23位，实质上是24位。<br>表达式</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s*m*<span class="number">2</span>^(e<span class="number">-127</span>)</span><br></pre></td></tr></table></figure><p>m指的是后面的23位</p><h3 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">-5</span></span><br><span class="line"><span class="number">1</span> <span class="number">10000001</span> <span class="number">01000000000000000000000</span></span><br><span class="line"><span class="number">-1</span>*<span class="number">2</span>^(<span class="number">129</span><span class="number">-127</span>)*(<span class="number">2</span>^<span class="number">0</span>+<span class="number">2</span>^<span class="number">-2</span>)</span><br></pre></td></tr></table></figure><h2 id="一些特殊的方法"><a href="#一些特殊的方法" class="headerlink" title="一些特殊的方法"></a>一些特殊的方法</h2><p>clinit 类的初始化方法<br>init 实例的初始化方法</p><h2 id="JVM指令集"><a href="#JVM指令集" class="headerlink" title="JVM指令集"></a>JVM指令集</h2><ul><li>类型转化<br>l2i</li><li>出栈入栈操作<br>因为虚拟机没有寄存器，所以很多的指令都是通过栈的方式来操作的，所以有一系列的指令来定义出栈和入栈的操作。<br>aload astore</li><li>运算<br>iadd（+） isub（-）</li><li>流程控制<br>ifeq（相等） ifne（不相等）</li><li><p>函数调用<br>invokevirtual（调用虚函数） invokeinterface （调用接口） invokespecial invokestatic （调用静态）</p><h2 id="JVM需要对Java-Library-提供以下支持："><a href="#JVM需要对Java-Library-提供以下支持：" class="headerlink" title="JVM需要对Java Library 提供以下支持："></a>JVM需要对Java Library 提供以下支持：</h2><p>因为这些功能没有办法通过java语言本身支持，所以通过JVM实现。</p></li><li><p>反射 java.lang.reflect</p></li><li>ClassLoader</li><li>初始化class和interface</li><li>安全相关 java.security</li><li>多线程</li><li>弱引用<h2 id="JVM的编译"><a href="#JVM的编译" class="headerlink" title="JVM的编译"></a>JVM的编译</h2>源码到JVM指令的对应格式<br>Javap 反编译<br>JVM反汇编的格式：</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;index&gt; &lt;opcode&gt; [ &lt;operand1&gt; [ &lt;operand2&gt;... ]] [&lt;comment&gt;]</span><br></pre></td></tr></table></figure><p>索引（偏移量） 操作码（+-*/入站出站） 注解</p><h3 id="例子-1"><a href="#例子-1" class="headerlink" title="例子"></a>例子</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> spin() &#123;</span><br><span class="line">  int i; </span><br><span class="line">  <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123; ;</span><br><span class="line">     <span class="comment">// Loop body is empty</span></span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span>   iconst_0       <span class="comment">// Push int constant 0</span></span><br><span class="line"><span class="number">1</span>   istore_1       <span class="comment">// Store into local variable 1 (i=0)</span></span><br><span class="line"><span class="number">2</span>   goto <span class="number">8</span>         <span class="comment">// First time through don't increment</span></span><br><span class="line"><span class="number">5</span>   iinc <span class="number">1</span> <span class="number">1</span>       <span class="comment">// Increment local variable 1 by 1 (i++)</span></span><br><span class="line"><span class="number">8</span>   iload_1        <span class="comment">// Push local variable 1 (i)</span></span><br><span class="line"><span class="number">9</span>   bipush <span class="number">100</span>     <span class="comment">// Push int constant 100</span></span><br><span class="line"><span class="number">11</span>  if_icmplt <span class="number">5</span>    <span class="comment">// Compare and loop if less than (i &lt; 100)</span></span><br><span class="line"><span class="number">14</span>  <span class="keyword">return</span>         <span class="comment">// Return void when done</span></span><br></pre></td></tr></table></figure><p>在JVM中直接执行的是JVM指令代码（如上）。</p></div><div><div><div style="text-align:center;color:#555;font-size:14px">-------------The End-------------</div></div></div><div><div class="my_post_copyright"><p><span>本文标题:</span><a href="/2019-02-23.html">JVM内核-原理、诊断与优化学习笔记（一）：初识JVM</a></p><p><span>文章作者:</span><a href="/" title="访问 Leesin.Dong 的个人博客">Leesin.Dong</a></p><p><span>发布时间:</span>2019年02月23日 - 19:02</p><p><span>最后更新:</span>2019年02月23日 - 20:02</p><p><span>原始链接:</span><a href="/2019-02-23.html" title="JVM内核-原理、诊断与优化学习笔记（一）：初识JVM">http://mmmmmm.me/2019-02-23.html</a></p><p><span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">署名-非商业性使用-禁止演绎 4.0 国际</a> 转载请保留原文链接及作者。</p></div></div><div><div style="padding:10px 0;margin:20px auto;width:90%;text-align:center"><div>客官客官，不可以，你要对我负责～～～</div><button id="rewardButton" disable="enable"><script>window.onload=function(){var n=document.getElementById("QR"),e=document.getElementById("rewardButton");e.onclick=function(){"none"===n.style.display?n.style.display="block":n.style.display="none"}}</script><span>打赏</span></button><div id="QR" style="display:none"><div id="wechat" style="display:inline-block"><img id="wechat_qr" alt="Leesin.Dong 微信支付" data-original="/images/wechatpay.jpg"><p>微信支付</p></div><div id="alipay" style="display:inline-block"><img id="alipay_qr" alt="Leesin.Dong 支付宝" data-original="/images/alipay.jpg"><p>支付宝</p></div></div></div></div><footer class="post-footer"><div class="post-tags"><a href="/tags/JVM/" rel="tag"><i class="fa fa-tag"></i> JVM</a></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/2019-02-22.html" rel="next" title="Java高并发程序设计学习笔记（十一）：Jetty分析"><i class="fa fa-chevron-left"></i> Java高并发程序设计学习笔记（十一）：Jetty分析</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/2019-02-24.html" rel="prev" title="JVM内核-原理、诊断与优化学习笔记（二）：JVM运行机制">JVM内核-原理、诊断与优化学习笔记（二）：JVM运行机制 <i class="fa fa-chevron-right"></i></a></div></div></footer></div></article><div class="post-spread"></div></div></div><div id="gitalk-container"></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div id="sidebar-dimmer"></div><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">文章目录</li><li class="sidebar-nav-overview" data-target="site-overview-wrap">站点概览</li></ul><section class="site-overview-wrap sidebar-panel"><div class="site-overview"><div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="Leesin.Dong" data-original="/images/header.jpg"><p class="site-author-name" itemprop="name">Leesin.Dong</p><p class="site-description motion-element" itemprop="description">To be a better me</p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">58</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/index.html"><span class="site-state-item-count">14</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/index.html"><span class="site-state-item-count">11</span> <span class="site-state-item-name">标签</span></a></div></nav><div class="feed-link motion-element"><a href="/atom.xml" rel="alternate"><i class="fa fa-rss"></i> RSS</a></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/dataiyangu" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i>GitHub</a> </span><span class="links-of-author-item"><a href="https://blog.csdn.net/dataiyangu" target="_blank" title="CSDN"><i class="fa fa-fw fa-copyright"></i>CSDN</a> </span><span class="links-of-author-item"><a href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=32248827@qq.com" target="_blank" title="E-Mail"><i class="fa fa-fw fa-E-Mail"></i>E-Mail</a> </span><span class="links-of-author-item"><a href="https://mobile.twitter.com/dataiyangu" target="_blank" title="Twitter"><i class="fa fa-fw fa-twitter"></i>Twitter</a> </span><span class="links-of-author-item"><a href="https://www.facebook.com/leesin.dong.923" target="_blank" title="FB Page"><i class="fa fa-fw fa-facebook"></i>FB Page</a> </span><span class="links-of-author-item"><a href="http://wpa.qq.com/msgrd?v=3&uin=32248827&site=hupaiyule&menu=yes" target="_blank" title="QQ"><i class="fa fa-fw fa-qq"></i>QQ</a></span></div><div class="links-of-blogroll motion-element links-of-blogroll-inline"><div class="links-of-blogroll-title"><i class="fa fa-fw fa-link"></i> link</div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"><a href="https://yelog.org" title="叶落阁" target="_blank">叶落阁</a></li><li class="links-of-blogroll-item"><a href="http://www.bianxiaofeng.com" title="边小丰" target="_blank">边小丰</a></li><li class="links-of-blogroll-item"><a href="https://blog.csdn.net/dataiyangu" title="我的CSDN" target="_blank">我的CSDN</a></li><li class="links-of-blogroll-item"><a href="https://qqdie.com" title="QQ爹" target="_blank">QQ爹</a></li></ul></div></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#JVM的概念"><span class="nav-number">1.</span> <span class="nav-text">JVM的概念</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#JVM是Java-Virtual-Machine的简称。意为Java虚拟机"><span class="nav-number">1.1.</span> <span class="nav-text">JVM是Java Virtual Machine的简称。意为Java虚拟机</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#虚拟机"><span class="nav-number">1.2.</span> <span class="nav-text">虚拟机</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#有哪些虚拟机"><span class="nav-number">1.3.</span> <span class="nav-text">有哪些虚拟机</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#VMWare或者Visual-Box都是使用软件模拟物理CPU的指令集"><span class="nav-number">1.4.</span> <span class="nav-text">VMWare或者Visual Box都是使用软件模拟物理CPU的指令集</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JVM使用软件模拟Java-字节码的指令集"><span class="nav-number">1.5.</span> <span class="nav-text">JVM使用软件模拟Java 字节码的指令集</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#JVM发展历史"><span class="nav-number">2.</span> <span class="nav-text">JVM发展历史</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1996年-SUN-JDK-1-0-Classic-VM"><span class="nav-number">2.1.</span> <span class="nav-text">1996年 SUN JDK 1.0 Classic VM</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1997年-JDK1-1-发布"><span class="nav-number">2.2.</span> <span class="nav-text">1997年 JDK1.1 发布</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1998年-JDK1-2-Solaris-Exact-VM"><span class="nav-number">2.3.</span> <span class="nav-text">1998年 JDK1.2 Solaris Exact VM</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2000年-JDK-1-3-Hotspot-作为默认虚拟机发布"><span class="nav-number">2.4.</span> <span class="nav-text">2000年 JDK 1.3 Hotspot 作为默认虚拟机发布</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2002年-JDK-1-4-Classic-VM退出历史舞台"><span class="nav-number">2.5.</span> <span class="nav-text">2002年 JDK 1.4 Classic VM退出历史舞台</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2004年发布-JDK1-5-即-JDK5-、J2SE-5-、Java-5（重要版本）"><span class="nav-number">2.6.</span> <span class="nav-text">2004年发布 JDK1.5 即 JDK5 、J2SE 5 、Java 5（重要版本）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JDK1-6-JDK6"><span class="nav-number">2.7.</span> <span class="nav-text">JDK1.6 JDK6</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2011年-JDK7发布"><span class="nav-number">2.8.</span> <span class="nav-text">2011年 JDK7发布</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2014年-JDK8发布（重要版本）"><span class="nav-number">2.9.</span> <span class="nav-text">2014年 JDK8发布（重要版本）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2016年JDK9"><span class="nav-number">2.10.</span> <span class="nav-text">2016年JDK9</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#大事件"><span class="nav-number">2.11.</span> <span class="nav-text">大事件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#使用最为广泛的JVM为HotSpot"><span class="nav-number">2.11.1.</span> <span class="nav-text">使用最为广泛的JVM为HotSpot</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HotSpot-为Longview-Technologies开发-被SUN收购"><span class="nav-number">2.11.2.</span> <span class="nav-text">HotSpot 为Longview Technologies开发 被SUN收购</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2006年-Java开源-并建立OpenJDK"><span class="nav-number">2.11.3.</span> <span class="nav-text">2006年 Java开源 并建立OpenJDK</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2008-年-Oracle收购BEA"><span class="nav-number">2.11.4.</span> <span class="nav-text">2008 年 Oracle收购BEA</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2010年Oracle-收购-Sun"><span class="nav-number">2.11.5.</span> <span class="nav-text">2010年Oracle 收购 Sun</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Oracle宣布在JDK8时整合JRockit和Hotspot，优势互补"><span class="nav-number">2.11.6.</span> <span class="nav-text">Oracle宣布在JDK8时整合JRockit和Hotspot，优势互补</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#JVM种类"><span class="nav-number">3.</span> <span class="nav-text">JVM种类</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#KVM"><span class="nav-number">3.1.</span> <span class="nav-text">KVM</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CDC-CLDC-HotSpot"><span class="nav-number">3.2.</span> <span class="nav-text">CDC/CLDC HotSpot</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JRockit"><span class="nav-number">3.3.</span> <span class="nav-text">JRockit</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#IBM-J9-VM"><span class="nav-number">3.4.</span> <span class="nav-text">IBM J9 VM</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Apache-Harmony"><span class="nav-number">3.5.</span> <span class="nav-text">Apache Harmony</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Java语言规范"><span class="nav-number">4.</span> <span class="nav-text">Java语言规范</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#语法定义"><span class="nav-number">4.1.</span> <span class="nav-text">语法定义</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#IfThenStatement"><span class="nav-number">4.1.1.</span> <span class="nav-text">IfThenStatement:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ArgumentList"><span class="nav-number">4.1.2.</span> <span class="nav-text">ArgumentList:</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#词法结构"><span class="nav-number">4.2.</span> <span class="nav-text">词法结构</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#小例子"><span class="nav-number">4.2.1.</span> <span class="nav-text">小例子</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#数字相关"><span class="nav-number">4.2.2.</span> <span class="nav-text">数字相关</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#哪些是合法的数字呢？"><span class="nav-number">4.2.3.</span> <span class="nav-text">哪些是合法的数字呢？</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#类型和变量"><span class="nav-number">4.3.</span> <span class="nav-text">类型和变量</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#略"><span class="nav-number">4.4.</span> <span class="nav-text">略</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#JVM规范"><span class="nav-number">5.</span> <span class="nav-text">JVM规范</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#整数的表达"><span class="nav-number">5.1.</span> <span class="nav-text">整数的表达</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#为什么要用补码？"><span class="nav-number">5.1.1.</span> <span class="nav-text">为什么要用补码？</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Float的表示与定义"><span class="nav-number">5.2.</span> <span class="nav-text">Float的表示与定义</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#例子"><span class="nav-number">5.2.1.</span> <span class="nav-text">例子</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#一些特殊的方法"><span class="nav-number">5.3.</span> <span class="nav-text">一些特殊的方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JVM指令集"><span class="nav-number">5.4.</span> <span class="nav-text">JVM指令集</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JVM需要对Java-Library-提供以下支持："><span class="nav-number">5.5.</span> <span class="nav-text">JVM需要对Java Library 提供以下支持：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JVM的编译"><span class="nav-number">5.6.</span> <span class="nav-text">JVM的编译</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#例子-1"><span class="nav-number">5.6.1.</span> <span class="nav-text">例子</span></a></li></ol></li></ol></li></ol></div></div></section></div></aside></div><script>function password(){}var div=$(".post-body"),toc=$(".post-toc-wrap");password()</script></main></div><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; 2016 &mdash; <span itemprop="copyrightYear">2019</span> <span class="with-love" id="heart"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">Leesin.Dong</span></div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="site-uv"><i class="fa fa-user"></i>总访客 <span class="busuanzi-value" id="busuanzi_value_site_uv"></span> 人 </span><span class="site-pv"><i class="fa fa-eye"></i>访问量 <span class="busuanzi-value" id="busuanzi_value_site_pv"></span> 次</span></div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i></div></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script><style>.copy-btn{display:inline-block;padding:6px 12px;font-size:13px;font-weight:700;line-height:20px;color:#333;white-space:nowrap;vertical-align:middle;cursor:pointer;background-color:#eee;background-image:linear-gradient(#fcfcfc,#eee);border:1px solid #d5d5d5;border-radius:3px;user-select:none;outline:0}.highlight-wrap .copy-btn{transition:opacity .3s ease-in-out;opacity:0;padding:2px 6px;position:absolute;right:4px;top:8px}.highlight-wrap .copy-btn:focus,.highlight-wrap:hover .copy-btn{opacity:1}.highlight-wrap{position:relative}</style><script>$(".highlight").each(function(t,e){var n=$("<div>").addClass("highlight-wrap");$(e).after(n),n.append($("<button>").addClass("copy-btn").append("复制").on("click",function(t){var e=$(this).parent().find(".code").find(".line").map(function(t,e){return $(e).text()}).toArray().join("\n"),n=document.createElement("textarea");document.body.appendChild(n),n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.value=e,n.select(),n.focus();var o=document.execCommand("copy");document.body.removeChild(n),o?$(this).text("复制成功"):$(this).text("复制失败"),$(this).blur()})).on("mouseleave",function(t){var e=$(this).find(".copy-btn");setTimeout(function(){e.text("复制")},300)}).append(e)})</script><script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script><link rel="stylesheet" href="/lib/algolia-instant-search/instantsearch.min.css"><script src="/lib/algolia-instant-search/instantsearch.min.js"></script><script src="/js/src/algolia-search.js?v=5.1.4"></script><script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script><script>AV.initialize("6og9b7lpddMqazBCDe8z4HqL-gzGzoHsz","faKN7dalSdXLmYYJTRq98B1f")</script><script>function showTime(e){var t=new AV.Query(e),n=[],o=$(".leancloud_visitors");o.each(function(){n.push($(this).attr("id").trim())}),t.containedIn("url",n),t.find().done(function(e){var t=".leancloud-visitors-count";if(0===e.length)return void o.find(t).text(0);for(var i=0;i<e.length;i++){var r=e[i],s=r.get("url"),l=r.get("time"),c=document.getElementById(s);$(c).find(t).text(l)}for(var i=0;i<n.length;i++){var s=n[i],c=document.getElementById(s),u=$(c).find(t);""==u.text()&&u.text(0)}}).fail(function(e,t){console.log("Error: "+t.code+" "+t.message)})}function addCount(e){var t=$(".leancloud_visitors"),n=t.attr("id").trim(),o=t.attr("data-flag-title").trim(),i=new AV.Query(e);i.equalTo("url",n),i.find({success:function(t){if(t.length>0){var i=t[0];i.fetchWhenSave(!0),i.increment("time"),i.save(null,{success:function(e){var t=$(document.getElementById(n));t.find(".leancloud-visitors-count").text(e.get("time"))},error:function(e,t){console.log("Failed to save Visitor num, with error message: "+t.message)}})}else{var r=new e,s=new AV.ACL;s.setPublicReadAccess(!0),s.setPublicWriteAccess(!0),r.setACL(s),r.set("title",o),r.set("url",n),r.set("time",1),r.save(null,{success:function(e){var t=$(document.getElementById(n));t.find(".leancloud-visitors-count").text(e.get("time"))},error:function(e,t){console.log("Failed to create")}})}},error:function(e){console.log("Error:"+e.code+" "+e.message)}})}$(function(){var e=AV.Object.extend("Counter");1==$(".leancloud_visitors").length?addCount(e):$(".post-title-link").length>1&&showTime(e)})</script><script>!function(){var t=document.createElement("script"),s=window.location.protocol.split(":")[0];"https"===s?t.src="https://zz.bdstatic.com/linksubmit/push.js":t.src="http://push.zhanzhang.baidu.com/push.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()</script></body></html><script src="/js/src/pjax/lazyload_min.js"></script><script src="/js/src/pjax/comments/comments.gitalk.js"></script><script src="/js/src/pjax/require.js" defer async data-main="/js/src/pjax/main.js"></script><!-- rebuild by neat -->